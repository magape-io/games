if(void 0==LIEBAO_DEBUG){var LIEBAO_DEBUG=!1}if(void 0==GID){var GID="game"}if(void 0==APP_API_URL){var APP_API_URL=/localhost/.test(location.host)?"http://g.huceo.com/?f=count_money":"http://g.huceo.com/?f=count_money"}if(void 0==APP_LIST_URL){var APP_LIST_URL="http://g.huceo.com/?f=count_money"}if(void 0==APP_FOLLOW_URL){var APP_FOLLOW_URL="http://mp.weixin.qq.com/s?__biz=MzA4Njg1MjkzOA==&mid=200770039&idx=1&sn=a97ee832189c4b1d5eb9947f7e74e7ad#rd"}if(void 0==ENABLE_SHARE){var ENABLE_SHARE=!0}if(void 0==ENABLE_LB){var ENABLE_LB=!0}var APP_DEPLOYMENT="WX",IS_IOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,IS_ANDROID=-1<navigator.userAgent.indexOf("Android"),KEY_MY_ID="myid",KEY_FOLLOWED="flw",KEY_BEST_SUFFIX=":best";function liebaoLog(){console.log(arguments)}liebaoShare={title:GID,desc:GID,link:"http://g.huceo.com/weixin/shuqian/index.html?r="+encodeURIComponent("http://g.huceo.com/weixin/shuqian/?f=wx&t="+new Date().getTime()),imgUrl:"http://g.huceo.com/weixin/shuqian/icon.png",doneJump:"http://mp.weixin.qq.com/s?__biz=MzA4Njg1MjkzOA==&mid=200770039&idx=1&sn=a97ee832189c4b1d5eb9947f7e74e7ad#rd"};document.addEventListener("WeixinJSBridgeReady",function(){APP_DEPLOYMENT="WX";WeixinJSBridge.call("showOptionMenu");WeixinJSBridge.call("hideToolbar");WeixinJSBridge.on("menu:share:appmessage",function(b){WeixinJSBridge.invoke("sendAppMessage",{title:liebaoShare.title,desc:liebaoShare.desc,link:liebaoShare.link,img_url:liebaoShare.imgUrl},function(a){document.location.href=liebaoShare.doneJump})});WeixinJSBridge.on("menu:share:timeline",function(b){WeixinJSBridge.invoke("shareTimeline",{title:liebaoShare.desc,desc:liebaoShare.desc,link:liebaoShare.link,img_url:liebaoShare.imgUrl},function(a){document.location.href=liebaoShare.doneJump})});WeixinJSBridge.on("menu:share:weibo",function(b){WeixinJSBridge.invoke("shareWeibo",{content:liebaoShare.desc,url:liebaoShare.link},function(a){document.location.href=liebaoShare.doneJump})})});(function(b,h){var j=APP_API_URL+"social/",i=location.search?location.search:"",e=GID+KEY_BEST_SUFFIX;b.myPid=function(){return b.storage.get(KEY_MY_ID)};b.isFollowed=function(){return b.storage.get(KEY_FOLLOWED)};b.updateLoginInfo=function(a,c){liebaoLog("updateLoginInfo");liebaoLog("pid: "+a);liebaoLog("followed: "+c);a&&a!=b.storage.get(KEY_MY_ID)&&b.storage.set(KEY_MY_ID,a);a&&a!=b.storage.get(KEY_FOLLOWED)&&b.storage.set(KEY_FOLLOWED,c)};b.onNewScore=function(a){ENABLE_LB&&(a>b.best&&(newRecord=!0,a>b.best&&(b.best=a,b.storage.set(e,b.best))),a>SCORE_LIMIT&&b.uploadScore(a))};b.storage=b.storage||{};b.storage.get=function(c){try{if(c in localStorage){return localStorage[c]}}catch(d){}return $.cookie(c)};b.storage.set=function(d,f){try{return localStorage[d]=f,!0}catch(g){}$.cookie(d,f,{expires:365});return !0};b.score=0;b.best=b.storage.get(e)||0;b.newRecord=!1;b.newscore_wxoauth=function(a){return;a=APP_API_URL+"wxoauth/newscore/"+GID+"/?score="+a+"&callback=?";liebaoLog(a);$.getJSON(a).done(function(c){"wxoauth_needed"==c.error?liebaoLog("upload score failed. wxoauth_needed."):b.updateLoginInfo(c.pid,c.subscribed)})};b.uploadScore=function(a){return;a=APP_API_URL+"newscore/"+GID+"/"+a+"/?callback=?";liebaoLog(a);$.getJSON(a).done(function(c){liebaoLog(c);"wxoauth_needed"==c.error?liebaoLog("upload score failed. wxoauth_needed."):b.updateLoginInfo(c.pid,c.subscribed)})};b.startOAuth=function(){liebaoLog(APP_API_URL+"wxoauth_start");window.open(APP_API_URL+"wxoauth_start")};b.leaderboard=function(d,f,g){return;liebaoLog(APP_API_URL+"leaderboard/"+f+"/"+g+"?callback=?");$.getJSON(APP_API_URL+"leaderboard/"+f+"/"+g+"?callback=?",d)};b.onGameInit=function(){};b.onGameStarted=function(){LiebaoStage.showFollowAnim(!1)};b.onGameOver=function(){LiebaoStage.showFollowAnim(!0)};b.social=b.social||{};b.social.chongzhi=function(a){liebaoLog(j+"chongzhi"+i)};b.social.startOAuth=function(a){a=encodeURIComponent(a);liebaoLog(j+"wxoauth_start/?ret="+a);window.open(j+"wxoauth_start/?ret="+a)};b.social.viewMe=function(a){liebaoLog(j+"me"+i)};b.social.viewPlayer=function(c,d){liebaoLog(j+"view"+i+"&pid="+d)};b.social.searchPlayer=function(c,d){liebaoLog(j+"search"+i+"&qstr="+encodeURIComponent(d))};b.social.friendList=function(a){liebaoLog(j+"frdlist"+i)};b.social.mywall=function(a){liebaoLog(j+"mywall"+i)};b.social.peerwall=function(c,d){liebaoLog(j+"wall"+i+"&pid="+d)};b.social.conversation=function(c,d){liebaoLog(j+"conversation"+i+"&pid="+d)};b.social.wallAdd=function(c,f,d){liebaoLog(j+"walladd"+i+"&pid="+d)};b.social.wallDel=function(c,d){liebaoLog(j+"walldel"+i+"&msgid="+d)};b.social.friendDel=function(c,d){liebaoLog(j+"frddel"+i+"&pid="+d)};b.social.friendAdd=function(c,d){liebaoLog(j+"frdadd"+i+"&pid="+d)};b.social.friendBlack=function(c,d){liebaoLog(j+"frdblack"+i+"&pid="+d)};b.leaderboard=function(f,k,g){return;liebaoLog(APP_API_URL+"leaderboard/"+k+"/"+g+"?callback=?")}})(window.liebaoApp=window.liebaoApp||{});